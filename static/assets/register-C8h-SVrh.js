import"./main-D_gjJzFE.js";import{m as c,s as d}from"./jmpTools-DpHYBAf9.js";const u=document.getElementById("form-register"),r=u.querySelectorAll("input"),i=document.getElementById("document-identification"),l=document.getElementById("dropdown-document").querySelectorAll("li");for(let e=0;e<l.length;e++)l[e].addEventListener("click",s=>{i.setAttribute("value",s.target.getAttribute("value")),i.innerText=s.target.innerText});for(let e=0;e<r.length;e++){const n=r[e];n.addEventListener("focus",()=>{n.classList.remove("is-invalid")})}//! add swet alert
u.addEventListener("submit",async function(e){e.preventDefault();let n=!0;const s=e.target.querySelectorAll("input"),t={};for(let o=0;o<s.length;o++){const a=s[o];t[a.id]=a.value,(a.value===void 0||a.value==="")&&(s[o].classList.add("is-invalid"),n=!1)}if(!n)return"error";c(t["password-a"],t["password-b"])?(t.rol=document.getElementById("rol").value,t.typeIdentifier=document.getElementById("document-identification").innerText,t.password=t["password-a"],delete t["password-a"],delete t["password-b"],await(await fetch("http://localhost:80/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).status===200?window.location.pathname="/src/html/auth/authentication-login.html":alert("No se pudo crear un usuario")):alert("Passwords do not match or are not strong enough.")});document.getElementById("shw-a").addEventListener("mousedown",e=>{d("password-a","shw-a")});document.getElementById("shw-a").addEventListener("mouseup",e=>{d("password-a","shw-a")});document.getElementById("shw-b").addEventListener("mousedown",()=>d("password-b","shw-b"));document.getElementById("shw-b").addEventListener("mouseup",()=>d("password-b","shw-b"));
