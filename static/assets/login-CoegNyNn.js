import"./main-B6jvjcsM.js";import{S as l}from"./sweetalert2.esm.all-BccGxJ0c.js";import{s as r}from"./jmpTools-DpHYBAf9.js";/* empty css                   */const c=document.getElementById("form-login"),s=c.querySelectorAll("input");for(let e=0;e<s.length;e++){const t=s[e];t.addEventListener("focus",()=>{t.classList.remove("is-invalid")})}const m=async e=>{e.preventDefault();let t=!0;const i={};for(let n=0;n<s.length;n++){const o=s[n];i[o.id]=o.value,(o.value===void 0||o.value===""&&o.type!="checkbox")&&(s[n].classList.add("is-invalid"),t=!1)}if(!t)return null;const d={email:i.username.toLowerCase(),password:i["password-m"]};console.log("/api/login");const a=await(await fetch("/api/login",{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).json();console.log(a),a.success?(l.fire({title:"Exito al entrar a la cuenta",icon:"success",timer:1e3}),window.location.replace("http://localhost:5173/")):l.fire({title:"Email o contraseÃ±a incorrecta",text:"Porfavor verifique los datos",icon:"error",timer:1500})};c.addEventListener("submit",m);document.getElementById("shw-m").addEventListener("mousedown",e=>{r("password-m","shw-m")});document.getElementById("shw-m").addEventListener("mouseup",e=>{r("password-m","shw-m")});
