import"./main-DtEDl7Xs.js";import{S as r}from"./sweetalert2.esm.all-BccGxJ0c.js";/* empty css                   */const i=document.createElement("button");i.textContent="Guardar";i.className="btn btn-primary";i.setAttribute("type","submit");const o=document.getElementById("options-profile"),s=document.getElementById("update-profile"),u=document.getElementById("delete-profile");document.addEventListener("DOMContentLoaded",async()=>{const e=await(await fetch("http://localhost:80/api/auth/profile",{method:"GET",credentials:"include"})).json();window.id=e._id,document.getElementById("user-email").innerText=e.email,document.getElementById("user-address").innerText=e.address,document.getElementById("user-document").innerText=e.documentNumber});const m=()=>{document.getElementById("data-profile").querySelectorAll("tr").forEach(n=>{let t=n.querySelector("th"),l=n.querySelector("td"),d=document.createElement("input");d.setAttribute("type",t.getAttribute("type")||"text"),d.setAttribute("value",l.innerText),d.className="form-control",n.innerHTML="",n.appendChild(t),n.appendChild(d)}),o.innerHTML="",o.appendChild(i)},p=a=>{document.getElementById("data-profile").querySelectorAll("tr").forEach(t=>{let l=t.querySelector("th"),d=t.querySelector("input").value,c=document.createElement("td");c.innerText=d,t.innerHTML="",t.appendChild(l),t.appendChild(c)}),o.innerHTML="",o.appendChild(s),o.appendChild(u)};s.addEventListener("click",m);i.addEventListener("click",a=>p());u.addEventListener("click",a=>{r.fire({title:"¿Está seguro de eliminar la cuenta?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Deseo eliminar la cuenta",cancelButtonText:"He cambiado de opinion"}).then(async e=>{e.isConfirmed&&(await(await fetch("http://localhost:80/api/auth/acount",{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:window.id})})).json(),r.fire("Cuenta eliminada!","Su cuenta ha sido eliminada.","success"))})});
