import"./main-DtEDl7Xs.js";import{S as d}from"./sweetalert2.esm.all-BccGxJ0c.js";import{s as a,m as i}from"./jmpTools-DqPiJVOA.js";/* empty css                   */document.getElementById("shw-a").addEventListener("mousedown",s=>{a("password-a","shw-a")});document.getElementById("shw-a").addEventListener("mouseup",s=>{a("password-a","shw-a")});document.getElementById("shw-b").addEventListener("mousedown",()=>a("password-b","shw-b"));document.getElementById("shw-b").addEventListener("mouseup",()=>a("password-b","shw-b"));const l=new URL(window.location.href),c=l.searchParams.get("id");document.getElementById("form-change-password").addEventListener("submit",async function(s){s.preventDefault();let r=!0;const n=s.target.querySelectorAll("input"),o={};for(let e=0;e<n.length;e++){const t=n[e];o[t.id]=t.value,(t.value===void 0||t.value==="")&&(n[e].classList.add("is-invalid"),r=!1)}if(!r)return"error";i(o["password-a"],o["password-b"])?(await(await fetch("http://localhost:80/api/new-password/"+c,{method:"POST",credentials:"include",body:JSON.stringify(o["password-a"])})).json()).success?(d.fire({title:"Contraseña cambiada",icon:"success",timer:1500}),window.location.href="/src/html/auth/authentication-login.html"):d.fire({title:"Error",text:"No se pudo cambiar la contraseña",icon:"error",timer:1500}):alert("Passwords do not match or are not strong enough.")});console.log(document.getElementById("shw-b"));
