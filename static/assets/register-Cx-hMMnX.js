import"./main-B6jvjcsM.js";import{m,s as i}from"./jmpTools-DpHYBAf9.js";import{S as a}from"./sweetalert2.esm.all-BccGxJ0c.js";/* empty css                   */const u=document.getElementById("form-register"),d=u.querySelectorAll("input"),l=document.getElementById("document-identification"),c=document.getElementById("dropdown-document").querySelectorAll("li");for(let e=0;e<c.length;e++)c[e].addEventListener("click",o=>{l.setAttribute("value",o.target.getAttribute("value")),l.innerText=o.target.innerText});for(let e=0;e<d.length;e++){const n=d[e];n.addEventListener("focus",()=>{n.classList.remove("is-invalid")})}//! add swet alert
u.addEventListener("submit",async function(e){e.preventDefault();let n=!0;const o=e.target.querySelectorAll("input"),t={};for(let s=0;s<o.length;s++){const r=o[s];t[r.id]=r.value,(r.value===void 0||r.value==="")&&(o[s].classList.add("is-invalid"),n=!1)}if(!n)return"error";m(t["password-a"],t["password-b"])?(t.typeIdentifier=document.getElementById("document-identification").innerText,t.password=t["password-a"],delete t["password-a"],delete t["password-b"],await(await fetch("http://localhost:80/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).status===200?(new a({title:"Usuario registrado",text:"Ya puedes ingresar por el login",icon:"success",timer:1500}),window.location.pathname="/src/html/auth/authentication-login.html"):a({title:"Error",text:"No se pudo crear un usuario",icon:"error",timer:1500})):a({title:"Error",text:"Contraseñas no coinciden o no son fáciles de recordar",icon:"error",timer:1500})});document.getElementById("shw-a").addEventListener("mousedown",e=>{i("password-a","shw-a")});document.getElementById("shw-a").addEventListener("mouseup",e=>{i("password-a","shw-a")});document.getElementById("shw-b").addEventListener("mousedown",()=>i("password-b","shw-b"));document.getElementById("shw-b").addEventListener("mouseup",()=>i("password-b","shw-b"));
